<html>
  <head>
    <title>My page title</title>
  </head>

<script async defer
   
  src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBrl29goOUgiIO25ugovc9iT6Ag9xiy3lI&callback=initMap">
 
</script>

<style>
#zombie_map {
    height: 100%;
    width: 100%;
    left: 0;
    position: absolute;
    top: 0;
    background-color: grey;
}
</style>

  <body>
My zombie map
<div id="zombie_map"></div>
<script>
    var zombie_map;
	
    var old_position;

    var data = `32.85111161732699 35.462566998672514 hospital.png

		32.85085793943888 35.46165704727173 weapons.png

		32.85126352976102 35.46458601951599 weapons.png

		32.85194983288619 35.46311378504174 weapons.png

		32.85022832784672 35.462759733451776 zombie.png

		32.85158931103549 35.463553667320184 zombie.png

		32.85137299722195 35.46283483530419 zombie.png

		32.85130089250025 35.46207308794396 zombie.png

		32.85067898684345 35.46234130884545 zombie.png`;

    var markers = data.split("\n");

    var all_markers = [];

    function initMap() {

            zombie_map = new google.maps.Map(document.getElementById('zombie_map'), {
            zoom: 18,
            center: {lat: 32.85136398413493, lng: 35.46309271163943}
        });

	var marker = new google.maps.Marker({	
	position: {lat: 32.85136398413493, lng: 35.46309271163943},
	map: zombie_map,
	icon: "player.png"
	});

	    
    for(var i=0; i < markers.length; i++){

    var marker_data = markers[i].trim();

    marker_data = marker_data.split(" ");

    var latitude = marker_data[0];
    var longitude = marker_data[1];
    var emoji = marker_data[2];

    var marker_position = new google.maps.LatLng(latitude, longitude);

    var marker = new google.maps.Marker({	
	position: marker_position,
	map: zombie_map,
	icon: emoji
	});

all_markers.push(marker);
}

if(navigator.geolocation) {
    navigator.geolocation.watchPosition(set_my_position);
}
else {
    alert("Geolocation doesn't work in your browser");
}

}

function set_my_position(position){

var pos = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);

  var marker = new google.maps.Marker({
          position: pos,
          icon: "player.png",
          map: zombie_map
        });
}
</script>

  </body>
</html>
